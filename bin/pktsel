#!/bin/sh

if [ $# -lt 1 -o "$1" = "-h" ]
then
	echo usage: $0 "<lo> [<hi>]" >&2
	exit 1
fi


getarg() {
	if echo $1 | grep '^[0-9][0-9]*$' > /dev/null 2>&1 
	then
		echo "P == $1"
	else
		echo "$*"
	fi
}

LO=`getarg $1`
if [ $# -gt 1 ]
then
	HI=`getarg $2`
else
	HI=1
fi

echo "LO = '$LO', HI = '$HI'" >&2 

pml -e "
	var P = 0;
	var dropit = 0;
	var allow = 0;

	{ P = P + 1; dropit = 1; }

	?- $LO -? { allow = 1; dropit = 0; }
	?- $HI -? { allow = 0; }
	?- dropit and not allow -? { drop; }
"
